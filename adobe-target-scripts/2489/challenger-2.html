<script >
    console.log('OT-2489')
    let navContainer = document.querySelectorAll('#gux3 > div.gux3-secondaryNavigationReference > div > div.secondaryNavigationInner.bar-white > div > div > div.navigation-horizontal.columns.collapsed.large-4 > div > ul');
    

let accordionOpen = false; // Variable to track accordion state

function addServicePlanCta() {
    let newLink = document.createElement('a');
    let parentEl = document.createElement('li');
    
    newLink.href = "#";
    newLink.onclick = linkTrigger; // Assign the function directly
    newLink.textContent = "Service Plan";
    newLink.classList.add('cta-pill', 'cta-pill-ghost');
    
    parentEl.appendChild(newLink);
    navContainer[0].prepend(parentEl);
}

function linkTrigger() {
    if (accordionOpen) {
        // Close the accordion
        let accBtn = document.querySelectorAll('a.accordion-trigger.accordion-trigger-inline.content-right');
        if (accBtn.length > 0) {
            accBtn[0].click();
        }
        accordionOpen = false;
    } else {
        // Open the accordion
        accordionOpen = true;
        // You can add more logic here to handle accordion opening behavior
    }
}


    addServicePlanCta();
    linkTrigger()
</script>